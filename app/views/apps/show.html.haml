.page-header
  %h1= @app.name

- unless @app.cuttlefish?
  %h2 How to send mail via Cuttlefish for #{@app.name}

  %p
    Simple send smtp email in the normal way from your application with the following details
    %table.table.table-condensed
      %tr
        %td Host
        %td
          %strong= Rails.configuration.cuttlefish_domain
      %tr
        %td Port
        %td
          %strong= Rails.configuration.cuttlefish_smtp_port
      %tr
        %td Username
        %td
          %strong= @app.smtp_username
      %tr
        %td Password
        %td
          %strong= @app.smtp_password
      %tr
        %td Authentication
        %td
          %strong plain
  %p #{link_to "Specific instructions on how to send email for <strong>Ruby on Rails</strong>".html_safe, rails_app_path(@app)}.

  %p Want to add instructions here for your favorite web framework? Please #{link_to "contribute", "https://github.com/mlandauer/cuttlefish#how-to-contribute"}.

%h2 Settings
%p
  Name:
  = @app.name
%p
  URL:
  - if @app.url.blank?
    %span.muted Not set
  - else
    = link_to @app.url
%p
  Link tracking:
  - if @app.link_tracking_enabled?
    Enabled
  - else
    Disabled
%p
  Open tracking:
  - if @app.open_tracking_enabled?
    Enabled
  - else
    Disabled
%p
  Custom tracking domain:
  - if @app.custom_tracking_domain.blank?
    %span.muted Not set
  - else
    = @app.custom_tracking_domain

- if @app.cuttlefish?
  %p
    This is a special App that is used by Cuttlefish when an unauthenticated email is sent or one if its own
    emails is sent. If you want to override any of the settings above, like for instance switching off open tracking or using a custom domain for the open tracking images, then you should
    = link_to "create a new App", new_app_path
    within Cuttlefish.

- else
  %p= link_to "Edit", edit_app_path(@app)

- unless @app.cuttlefish?
  %hr
  %h3 Remove this App

  %p
    Here lies danger. Removing the app from Cuttlefish will permanently delete the app, the associated emails and can not be undone!
  %p
    = button_to "Remove App", @app, :confirm => "Are you sure?", :method => :delete, :class => "btn btn-danger"
